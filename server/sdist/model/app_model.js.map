{"version":3,"sources":["../../model/app_model.js"],"names":["mongoose","require","Schema","appSchema","platform","type","String","os","bundleId","index","bundleName","appName","currentVersion","creatorId","creator","createAt","Date","default","now","icon","describe","updateAt","shortUrl","unique","mergeAppId","autoPublish","Boolean","installWithPwd","installPwd","appLevel","ownerId","changeLog","releaseVersionCode","releaseVersionId","grayReleaseVersionId","totalDownloadCount","Number","todayDownloadCount","date","count","label_id","last_app_version_id","showHistory","module","exports","model"],"mappings":";;AAEA,MAAMA,WAAWC,QAAQ,aAAR,CAAjB;AACA,MAAMC,SAASF,SAASE,MAAxB;;AAEA,MAAMC,YAAY,IAAID,MAAJ,CAAW;AACzBE,cAAU;AACNC,cAAMC;AADA,KADe;AAIzBC,QAAI;AACAF,cAAMC;AADN,KAJqB;AAOzBE,cAAU;AACNH,cAAMC,MADA;AAENG,eAAO;AAFD,KAPe;AAWzBC,gBAAY;AACRL,cAAMC;AADE,KAXa;AAczBK,aAASL,MAdgB;AAezBM,oBAAgB;AACZP,cAAMC;AADM,KAfS;AAkBzBO,eAAWP,MAlBc;AAmBzBQ,aAASR,MAnBgB;AAoBzBS,cAAU;AACNV,cAAMW,IADA;AAENC,iBAASD,KAAKE;AAFR,KApBe;AAwBzBC,UAAM;AACFd,cAAMC;AADJ,KAxBmB;AA2BzBc,cAAU;AACNf,cAAMC;AADA,KA3Be;AA8BzBe,cAAU;AACNhB,cAAMW;AADA,KA9Be;AAiCzBM,cAAU;AACNjB,cAAMC,MADA;AAENiB,gBAAQ;AAFF,KAjCe;AAqCzBC,gBAAY;AACRnB,cAAMC;AADE,KArCa;AAwCzBmB,iBAAa,EAAE;AACXpB,cAAMqB,OADG;AAETT,iBAAS;AAFA,KAxCY;AA4CzBU,oBAAgB;AACZD,eADY;AAEZT,iBAAS;AAFG,KA5CS;AAgDzBW,gBAAY;AACRvB,cAAMC;AADE,KAhDa;AAmDzBuB,cAAUvB,MAnDe;AAoDzBwB,aAASxB,MApDgB;AAqDzByB,eAAWzB,MArDc;AAsDzB0B,wBAAoB1B,MAtDK,EAsDG;AAC5B2B,sBAAkB3B,MAvDO,EAuDC;AAC1B4B,0BAAsB5B,MAxDG;AAyDzB6B,wBAAoB,EAAC9B,MAAM+B,MAAP,EAAenB,SAAS,CAAxB,EAzDK;AA0DzBoB,wBAAoB;AAChBC,cAAM,EAACjC,MAAMW,IAAP,EAAaC,SAASD,KAAKE,GAA3B,EADU;AAEhBqB,eAAO,EAAClC,MAAM+B,MAAP,EAAenB,SAAS,CAAxB;AAFS,KA1DK;AA8DzBuB,cAAUJ,MA9De;AA+DzBK,yBAAqBnC,MA/DI;AAgEzBoC,iBAAa,EAAE;AACXrC,cAAMqB,OADG;AAETT,iBAAS;AAFA;AAhEY,CAAX,CAAlB;;AAwEA;;AAEA0B,OAAOC,OAAP,GAAiB5C,SAAS6C,KAAT,CAAe,KAAf,EAAsB1C,SAAtB,CAAjB","file":"app_model.js","sourcesContent":["\n\nconst mongoose = require('../utils/db')\nconst Schema = mongoose.Schema\n\nconst appSchema = new Schema({\n    platform: {\n        type: String\n    },\n    os: {\n        type: String\n    },\n    bundleId: {\n        type: String,\n        index: true\n    },\n    bundleName: {\n        type: String\n    },\n    appName: String,\n    currentVersion: {\n        type: String\n    },\n    creatorId: String,\n    creator: String,\n    createAt: {\n        type: Date,\n        default: Date.now\n    },\n    icon: {\n        type: String\n    },\n    describe: {\n        type: String\n    },\n    updateAt: {\n        type: Date\n    },\n    shortUrl: {\n        type: String,\n        unique: true\n    },\n    mergeAppId: {\n        type: String,\n    },\n    autoPublish: { //是否自动发布\n        type: Boolean,\n        default: false\n    },\n    installWithPwd: {\n        Boolean,\n        default: false\n    },\n    installPwd: {\n        type: String\n    },\n    appLevel: String,\n    ownerId: String,\n    changeLog: String,\n    releaseVersionCode: String, //当前对外发布的code号\n    releaseVersionId: String, //当前对外发布的最新版本号\n    grayReleaseVersionId: String,\n    totalDownloadCount: {type: Number, default: 0},\n    todayDownloadCount: {\n        date: {type: Date, default: Date.now},\n        count: {type: Number, default: 0}\n    },\n    label_id: Number,\n    last_app_version_id: String,\n    showHistory: { //是否展示历史版本\n        type: Boolean,\n        default: true\n    },\n});\n\n\n\n// appSchema.virtual('versions').get(function () {     return Version.find })\n\nmodule.exports = mongoose.model('App', appSchema)\n"]}